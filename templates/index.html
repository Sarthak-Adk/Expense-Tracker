{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
  <form method="POST" class="card p-3 shadow">
    <div class="row">
      <div class="col-md-3">
        <input name="amount" type="number" step="0.01" class="form-control" placeholder="Amount" required>
      </div>
      <div class="col-md-3">
        <input name="category" type="text" class="form-control" placeholder="Category" required>
      </div>
      <div class="col-md-3">
        <input name="date" type="date" class="form-control">
      </div>
      <div class="col-md-3">
        <button class="btn btn-success w-100">Add Expense</button>
      </div>
    </div>
  </form>
</div>

<h5>Total Spent: Rs {{ total }}</h5>

<table class="table table-bordered table-striped mt-3">
  <thead>
    <tr>
      <th>ID</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Date</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for expense in expenses %}
    <tr>
      <td>{{ expense[0] }}</td>
      <td>Rs {{ expense[1] }}</td>
      <td>{{ expense[2] }}</td>
      <td>{{ expense[3] }}</td>
      <td><a href="/delete/{{ expense[0] }}" class="btn btn-danger btn-sm">Delete</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
